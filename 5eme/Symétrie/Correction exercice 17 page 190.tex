\documentclass[a4paper,11pt]{article}

\addtolength{\oddsidemargin}{-1.5cm}
\addtolength{\evensidemargin}{-1.5cm}
\addtolength{\textwidth}{3cm}

\usepackage{préambule}
\makeatletter
\renewcommand{\maketitle}{%
	\begin{center}
		\LARGE
		\myuline{\@title}
		\vspace{1em}
	\end{center}
}
\makeatother

\title{Correction exercice 17 page 190}
\date{9 novembre}
\author{}

\begin{luacode}
	dofile "symetrie.lua"
\end{luacode}

\begin{document}

\maketitle

\newcommand{\myfigurescale}{0.6}

\begin{center}
	\begin{tikzpicture}[scale=\myfigurescale]
		\draw[ultra thin] (-0.2,-0.6) grid (16.2,7.2);
		\node at (8, -1.5) {\circled{1}};

		\draw[ultra thick,red] (8,0) -- node[right] {$(d₁)$} (8,7);
		\draw[ultra thick,green] (2,6) -- node[above right] {$(d₂)$} (4,4);
		\directlua{
		local d1 = {
				p1 = {x = 8, y = -0.5},
				p2 = {x = 8, y = 7.2},
			}
		local d2 = {
		p1 = {x = 0.8, y = 7.2},
		p2 = {x = 8.5, y = -0.5},
		}
		local d2_points = {d2.p1, d2.p2}
		local d1_points = {d1.p1, d1.p2}
		local triangle = {
		{x = 1, y = 1},
		{x = 5, y = 1},
		{x = 1, y = 5},
		{x = 1, y = 1},
		}
		triangle_sym1 = symetrie_axiale(d1, triangle)
		triangle_sym2 = symetrie_axiale(d2, triangle)
		tikz_draw_points(d1_points, "ultra thick,red")
		tikz_draw_points(d2_points, "ultra thick,green")
		tikz_draw_points(triangle, "ultra thick,blue")
		tikz_draw_points(triangle_sym1, "ultra thick,blue")
		tikz_draw_points(triangle_sym2, "ultra thick,blue")
		}
	\end{tikzpicture} \hspace{2em} \begin{tikzpicture}[scale=\myfigurescale]
		\draw[ultra thin] (-0.5,-3.6) grid (8.2,6.2);
		\node at (4, -4.5) {\circled{2}};

		\draw[ultra thick,red] (5,3) -- node[below] {$(d₁)$} (8.2,3);
		\draw[ultra thick,green] (4,2) -- node[above left] {$(d₂)$} (8,6);
		\directlua{
		local d1 = {
				p1 = {x = -0.5, y = 3},
				p2 = {x = 8.2, y = 3},
			}
		local d2 = {
		p1 = {x = -0.5, y = -2.5},
		p2 = {x = 8.2, y = 6.2},
		}
		local d2_points = {d2.p1, d2.p2}
		local d1_points = {d1.p1, d1.p2}
		local figure = {
		{x = 0, y = 2},
		{x = 4, y = 2},
		{x = 4, y = 5},
		{x = 0, y = 5},
		{x = 0, y = 2},
		}
		figure_sym1 = symetrie_axiale(d1, figure)
		figure_sym2 = symetrie_axiale(d2, figure)
		tikz_draw_points(d1_points, "ultra thick,red")
		tikz_draw_points(d2_points, "ultra thick,green")
		tikz_draw_points(figure, "ultra thick,blue")
		tikz_draw_points(figure_sym1, "ultra thick,blue")
		tikz_draw_points(figure_sym2, "ultra thick,blue")
		}
	\end{tikzpicture}

	\vspace{4em}

	\begin{tikzpicture}[scale=\myfigurescale]
		\draw[ultra thin] (-0.5,-2.6) grid (9.2,11.2);
		\node at (4.5, -4) {\circled{3}};

		\draw[ultra thick,red] (0,5) -- node[below] {$(d₁)$} (2,5);
		\draw[ultra thick,green] (6,4) -- node[below right] {$(d₂)$} (8,6);
		\directlua{
		local d1 = {
				p1 = {x = -0.5, y = 5},
				p2 = {x = 9.2, y = 5},
			}
		local d2 = {
		p1 = {x = -0.5, y = -2.5},
		p2 = {x = 9.2, y = 7.2},
		}
		local d2_points = {d2.p1, d2.p2}
		local d1_points = {d1.p1, d1.p2}
		local figure = {
		{x = 1, y = 0},
		{x = 8, y = 0},
		{x = 6, y = 4},
		{x = 1, y = 4},
		{x = 1, y = 0},
		}
		figure_sym1 = symetrie_axiale(d1, figure)
		figure_sym2 = symetrie_axiale(d2, figure)
		tikz_draw_points(d1_points, "ultra thick,red")
		tikz_draw_points(d2_points, "ultra thick,green")
		tikz_draw_points(figure, "ultra thick,blue")
		tikz_draw_points(figure_sym1, "ultra thick,blue")
		tikz_draw_points(figure_sym2, "ultra thick,blue")
		}
	\end{tikzpicture} \hspace{2em} \begin{tikzpicture}[scale=\myfigurescale]
		\draw[ultra thin] (-0.5,-2.6) grid (9.2,6.2);
		\node at (4.5, -3.7) {\circled{4}};

		\draw[ultra thick,red] node at (8.3,0.5) {$(d₁)$};
		\draw[ultra thick,green] (6,4) -- node[below right] {$(d₂)$} (8,6);
		\directlua{
		local function d1_func(x)
		return x*(-4/5) + 5 + 4/5
		end
		local d1 = {
		p1 = {x = -0.5, y = d1_func(-0.5)},
		p2 = {x = 9.2, y = d1_func(9.2)},
		}
		local d2 = {
		p1 = {x = -0.5, y = -2.5},
		p2 = {x = 8.2, y = 6.2},
		}
		local d2_points = {d2.p1, d2.p2}
		local d1_points = {d1.p1, d1.p2}
		local figure = {
		{x = 1, y = 1},
		{x = 6, y = 1},
		{x = 6, y = 5},
		{x = 1, y = 5},
		{x = 1, y = 1},
		}
		figure_sym1 = symetrie_axiale(d1, figure)
		figure_sym2 = symetrie_axiale(d2, figure)
		tikz_draw_points(d1_points, "ultra thick,red")
		tikz_draw_points(d2_points, "ultra thick,green")
		tikz_draw_points(figure, "ultra thick,blue")
		tikz_draw_points(figure_sym1, "ultra thick,blue")
		tikz_draw_points(figure_sym2, "ultra thick,blue")
		}
	\end{tikzpicture}
\end{center}

\end{document}